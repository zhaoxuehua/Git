# Git
学习bash、vi、ssh、控制及重点版本学习分布式版本控制（代表git）、gitHub、gitLab


一、git 介绍  =>分布式的版本控制系统
实现项目上多人协作，与他人协作涉及管理远程仓库以及根据需要推送或拉取数据
origin - 这是 Git 给你克隆的仓库服务器的默认名字，就代表远程主机名
当使用git分布式集中管理进行开发项目时，一般将项目放在远程仓库中，多人创建分支在本地开发，所以本地开发时需要用到从远程提交和拉取数据，即用到计算机之间的加密登陆，所以第一次从远程克隆项目时，需要配置计算机之间的加密登陆网络协议SSH：
具体做法用指令生成本地密钥对，并将公钥粘贴在远程主机的ssh公钥上 ssh-keygen -t rsa -C“一般邮箱”
如果使用 git clone 命令克隆了一个仓库，命令会自动将其添加为远程仓库并默认以 “origin” 为简
切记：一个分支相当于复制一份完整的代码进行开发 ，彼此独立，切换时记得提交
git pull 拉取远程数据并合并到当前分支，即让当前分支处于最新版，在多人开发时必须每次提交代码时更新拉取远程数据，否则别人开发的同步不到自己的分支。取回远程主机别的个分支的更新，再与本地的指定分支合并，即此时本地分支就是最新最新版本，同步了别人已经开发完成的数据。远程主机的版本比本地版本更新，推送时Git会报错，要求先在本地做git pull合并差异，然后再推送到远程主机
二、git常用指令
1、查看远程仓库
git remote  已克隆了的仓库，能看到 origin - 这是 Git 给你克隆的仓库服务器的默认名字
git remote -v  如果远程仓库不止一个，该命令会将它们全部列出
git remote show [remote-name]如果想要查看某一个远程仓库的更多信息
2、从远程仓库中抓取和拉取（用git pull  它是git fetch和git merge的合集，能书实现自动将拉下来的数据合并到当前所在的分支，即当前分支拿到了同步别人的开发进展 git pull <远程主机名> <远程分支名>:<本地分支名>）
git fetch origin 会抓取克隆(或上一次抓取)后新推送的所有工作。 必须注意 git fetch 命令会将数据拉取到本地仓库 - 它并不会自动合并或修改当前的工作。 当准备好时必须手动将其合并入你的工作区。需手动进行合并（不够智能，一般不用）
一般开发时都是在远程建立分支，本地在对应的分支上进行开发，即本地有分支去追踪远程对应的分支，这时用如果你有一个分支设置为跟踪一个远程分支，可以使用 git pull 命令来自动的抓取然后合并远程分支到当前分支，运行 git pull 通常会从最初克隆的服务器上抓取数据并自动尝试合并到当前所在的分支（这样就可以得到远程最新的数据，因为可能别人开发更新过自己拉下来的数据）。
⚠️一个分支就是一整份代码，分支之间是相互不影响的。所以提交代码时一定要git pull 这样才能将此时这个分支代码更新合并成最新版（因为别人有可能开发提交了代码上去，反正就是将此分支版本的代码更新到最新，才能提交这个分支开发的东西上去。）    以前理解的误区：误以为分支不是整体代码，以为就是光自己改动的代码，其实分支就是一个版本的整体代码，每次git pull就可以将别人开发的合并到这个分支上，使得这个版本的代码是最新的，然后再发布自己开发的push上去，整体就是最新项目代码，否则同步不了别人对项目的修改与开发。
⚠️master也是一个默认的分支名，之前以为它是一个整体项目的代码，新建的分支就是一部分新开发的，理解有误，其实每个分支都是一份独立的完整代码我们在对应分支进行开发而已。

⚠️此命令必须在commit命令前执行，否则合并无效，因为已经将要push上去的代码放入仓库中，再拉下来的数据合并后也不会push上去，所以无效，不是最新的数据项目。可以将它理解成一个引用对象，当执行git pull后，就会将别人对引用对象的修改数据拉下来更新，得到多人开发最新的引用对象，即此时项目进行到的最新版本。
 3、将本地推送到远程主机（仓库),实现将自己的本地的开发分享  git push [remote-name] [branch-name]  完整格式git push <远程主机名> <本地分支名>:<远程分支名> 存在追踪关系一般可省略
git push origin master（只是代表一个分支名）这样就可以将分支推送到远程对应的分支，实现将本地分支的更新，推送到远程主机，所以推送前必须确保是当前开发项目的最新版（需合并别人的开发到此分支）

⚠️自己在开发项目时，将本地分支推送到服务器时，推送不上去被拒绝❌。
  原因：在多人开发时（都会 git clone同一份代码到自己各自本地），除非你在推送代码时，别人没有推送代码到服务器，负责你的推送会被拒绝，必须先将他们的工作拉下来合并到你的工作分支上才能推送，推送上去后其他开发人员也能获取到我们所做的添加和修改。
（不难理解这样的目的就是实现多人实时的开发，如何每次不拉下来合并别人所做的修改，相当于项目就自己开发，实现不了多人协同开发的目的和功能）
⚠️完整的格式git push <远程主机名> <本地分支名>:<远程分支名>
     通常可将远程分支省略，因为它会追踪到远程对应分支，没有的话会新建，但不可以光省略本地分支，这样相当于提交空的分支给远程分支，最终结果就是将远程分支给删除
git push origin 存在追踪关系就可以省略本地分支和远程分支，默认会将所在分支提交到远程的对应分支
git push 如果当前分支只有对应追踪的一个分支则远程主机名origin也可省略
git push -u origin master如果当前分支与多个主机存在追踪关系，则可以使用-u选项指定一个默认主机，这样后面就可以不加任何参数使用git push，意思是将本地的master分支发送到origin主机分支，并将 origin指定为默认主机，后续就不加参数时默认追踪origin主机对应的分支（这种情况是针对一个分支与多个远程主机的分支存在追踪关系）
⚠️一般都是一个一个的分支推送，但也可实现将本地的所有创建的分支一次 性提交到远程主机，一般不要❌    git push --all origin
4、git init命令创建一个空的Git仓库或重新初始化一个现有仓库（创一个.git空的隐藏目录的仓库）一般不用❌
5、git config命令用于获取并设置东西，例如设置git用户名和邮箱等
        git config --global user.name "maxsu"            
        git config --global user.email "xuehua.zhao@bianlifeng.com"
        git config --list     检查git的所有设置
6、git help命令显示有关Git的帮助信息
    或者git  help具体的那个命令 如 config
7、git add （也就是将要提交的文件的信息添加到索引库中）在运行git commit命令之前，必须使用git add命令将任何新的或修改的文件添加到索引，“索引”保存工作树内容的快照，并且将该快照作为下一个提交的内容
8、git clone命令将存储库克隆到新目录中，一般用于将远程仓库克隆到当前目录中
9、git status命令用于显示工作目录和暂存区的状态
10、git commit命令用于将更改记录(提交)到存储库（暂存区到存储库）
11、git checkout命令用于切换分支或恢复工作树文件（危险，一定要想清楚再用，例如切换分支前必须提交当前分支，否则会迁移到切换到的分支，造成分支的混杂，使得分支开发出错）
        git checkout 分支名 此时会切换到对应分支，默认是分支的HEAD版本
        ⚠️容易出错的点：1）切换分支忘记push原有分支的代码则会带入，实现不了分支对应开发，所以切换分支前一定要执行push到远程  2）不可使用git checkout -b 分支来切换分支
        git checkout   版本（有时想回到哪个版本时可用）
12、git branch命令用于列出，创建或删除分支
         git branch或git branch -vv    是查看当前有哪些分支    -a的话可以查看本地和远程所有分支
         git branch  分支名        创建一个分支（切换分支用到git checkout）
         git  merge   要合并过来的分支        （即将别的分支合并到当前分支）
         git branch  -d. 分支名        删除分支
13、 git diff命令用于显示提交和工作树等之间的更改,修改之后还没有暂存起来的变化内容,也可以比较两分支之间的比较。
        git diff     工作树中的更改尚未分段进行下一次提交
        git diff --cached    索引和最后一次提交之间的变化，查看已经git add ，但没有git commit 的改动
        git diff HEAD 
    git commit -a” 查看将会提交什么
14、git reset命令用于将当前HEAD复位到指定状态，一般用于撤消之前的一些操作(如：git add,git commit等)
           
三、项目中常用指令
git branch -vv   查看本地开发共有哪些分支，并高亮显示当前所在的分支，在开发与提交代码时，一定要检测当前所在的分支，对应的去开发，否则会造成无法正常开发，提交不到正确的分支，造成开发失误。（一般开发代码时编辑器下方会显示当前所在的分支）
git stash （将更改储藏在脏工作目录中，就是将本地更改先保存起来。它是一个保险的操作，当当前分支开发与远程开发不存在冲突时直接git pull就可以，但一旦本地更改与上游开发更改的有冲突，直接执行git pull会拒绝覆盖自己的更改cannot merge，不会将上游数据合并过来，这种情况就适合将更改隐藏执行git pull更新到最新，再将更改放出）
git pull(拉取最新远程分支提交的数据，合并到当前所在的分支，每次提交代码必须执行的，否则得不到最新别人开发的功能，即得不到最新远程数据) 必须在提交代码前执行，否则执行该命令无效，因为已经将要提交的代码放入仓库了，在拉下来合并无用，push时提交的是放入仓库的代码   否则提交到远程时弱本地分支不是最新版会报错，所以一定要先git pull
git stash pop
git add .
git status(就是查看仓库当前状态，即没有将要提交的放进来)
git commit -m'提示信息'
git push origin 本地分支
 ⚠️ origin是git clone远程仓库项目时，默认的远程主机名，master也是git clone远程仓库项目时，默认的本地分支名
